{% extends "base.html" %} {% load static %}
<!-- css -->
{% block css_app_inline %}
<style>
  /* Banner Browse */
  .banner {
    padding: 30px;
  }
  .banner h2,
  .banner p {
    text-align: center;
    color: #00f5e1;
    font-family: "Ethnocentric";
  }
  .banner h2 {
    font-size: 50px;
    text-shadow: 0 0 2px #00ffe0, 0 0 12px #00fff2;
  }
  .banner p {
    font-size: 20px;
    color: #00ffd9;
  } /* End of Banner Browse */ /* Filter */
  .filter {
    border: 1px solid #00f5e1;
    padding: 30px 60px;
    color: white;
    border-radius: 15px;
    margin-bottom: 20px;
  }
  .form-movie {
    display: grid;
    grid-template-areas: "name name name name" "country lang ratingmovie sort";
    gap: 10px;
  }
  .name {
    grid-area: name;
  }
  .country {
    grid-area: country;
  }
  .lang {
    grid-area: lang;
  }
  .ratingmovie {
    grid-area: ratingmovie;
  }
  .sort {
    grid-area: sort;
  }
  .form-group label {
    display: block;
    margin-bottom: 5px;
  }
  .form-group input,
  #rating,
  #sorted,
  #year,
  #lang {
    width: 100%;
    background-color: thistle;
    border-radius: 4px;
    padding: 7px;
    margin-bottom: 10px;
  }
  #submit {
    background-color: midnightblue;
    padding: 10px;
    color: white;
    border-radius: 5px;
    margin: 20px auto;
    text-align: center;
  } /* End of Filter */ /* Gallery Movie */
  .gallery-movie {
    color: white;
    text-align: center;
  }
  .movie-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 40px;
    margin-top: 30px;
  }
  .poster-wrapper {
    box-shadow: 0 0 12px rgba(233, 3, 3, 0.333), 0 0 25px #0ff3 inset;
  }
  .poster-wrapper img {
    width: 100%;
    height: auto;
    display: block;
  } /* End of Gallery Movie */ /* Paginator */
  .gallery-movie {
    margin: 20px auto;
    text-align: center;
  }
  .page-movie {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-top: 15px;
  }
  .page-movie img {
    border-radius: 8px;
    transition: transform 0.3s;
    margin-bottom: 10px;
  }
  .page-movie img:hover {
    transform: scale(1.05);
  }
  .pagination {
    margin-top: 20px;
    display: flex;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
  }
  .pagination a,
  .pagination span {
    padding: 6px 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    text-decoration: none;
    color: #333;
    transition: background 0.3s, color 0.3s;
  }
  .pagination a:hover {
    background-color: #333;
    color: #fff;
  }
  .pagination .current {
    background-color: #333;
    color: #fff;
    font-weight: bold;
  } /* End of Paginator */
  @media (max-width: 576px) {
    .banner {
      padding: 10px;
    }
    .banner h2 {
      font-size: 30px;
    }
    .banner p {
      display: none;
    }
    .filter {
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 3px;
      font-size: 0.6em;
      text-align: center;
    }
    .form-movie {
      grid-template-areas: "name name" "country lang" "ratingmovie sort";
      gap: 1px;
      padding: 10px;
    }
    .form-group label {
      margin-bottom: 0;
    }
    #submit {
      padding: 5px;
      border-radius: 5px;
      margin: 10px auto;
    }
    .movie-list {
      grid-template-columns: repeat(auto-fill, minmax(75px, 1fr));
      gap: 10px;
    }
    .gallery-movie {
      margin: 10px auto;
    }
    .rating {
      font-size: 8px;
    } /* Paginator */
    .page-movie {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 15px;
    }
    .page-movie img {
      border-radius: 8px;
      transition: transform 0.3s;
      margin-bottom: 10px;
    }
    .page-movie img:hover {
      transform: scale(1.05);
    }
  }
</style>
{% endblock %}
<!-- End of CSS  -->
<!-- Content Browse -->
{% block content %}
<div class="browse banner">
  <h2>Browse Horror Movies</h2>
  <p>{{subtitle}}</p>
  <div class="filter">
    <h3>üîç Advanced Filter</h3>
    <form method="get">
      <div class="form-movie">
        <div class="form-group name">
          <label for="name">Name: </label>
          <input id="name" type="text" name="name" placeholder="Insert Name" />
        </div>
        <div class="form-group year">
          <label for="year">Release Year: </label>
          <select id="year" name="year">
            <option value="">-- Select Release Year --</option>
            {% for year in years %}
            <option value="{{year}}">{{year}}</option>
            {% endfor %}
          </select>
        </div>
        <div class="form-group lang">
          <label for="lang">Language: </label>
          <select id="lang" name="lang">
            <option value="">-- Select Language --</option>
            {% for lang in languages %}
            <option value="{{lang.code}}">({{lang.code}}) {{lang.name}}</option>
            {% endfor %}
          </select>
        </div>
        <div class="form-group ratingmovie">
          <label for="rating">Vote Average: </label>
          <select id="rating" name="rating">
            <option value="">-- Select Score --</option>
            <option value="5">5+</option>
            <option value="6">6+</option>
            <option value="7">7+</option>
            <option value="8">8+</option>
            <option value="9">9+</option>
          </select>
        </div>
        <div class="form-group sort">
          <label for="sorted">Sort By: </label>
          <select id="sorted" name="sorted">
            <option value="">-- Sorted by --</option>
            <option value="release">Release Date</option>
            <option value="vote">Vote Average</option>
            <option value="title">Title</option>
            <option value="popularity">Popularity</option>
          </select>
        </div>
      </div>
      <input id="submit" type="submit" value="Browse" />
    </form>
  </div>
  <div class="gallery-movie">
    <h3>&#x1F3AC; Browse Movie</h3>
    <div class="movie-list">
      {% for m in movies %}
      <a href="/movie/{{m.tmdb_id}}/">
        <div class="poster-wrapper">
          <img src="https://image.tmdb.org/t/p/w500{{ m.poster_path }}" alt="{{ m.title }}" />
          <h6>{{m.title}}</h6>
          <span class="rating">‚≠ê {{ m.vote_average|floatformat:1 }}</span>
        </div>
      </a>
      {% endfor %}
    </div>

    <!-- PAGINATION -->
    <div class="pagination">
      {% if is_paginated %}
      <div class="pagination">
        {# PREV BUTTON #} {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">&laquo; Prev</a>
        {% endif %} {# Window Pagination FIX #} {% for num in page_obj.paginator.page_range %} {# Hitung window range (10 nomor) #} {% if num >= page_obj.number|add:"-5" and num <= page_obj.number|add:"4" %} {% if num == page_obj.number %}
        <span class="current">{{ num }}</span>
        {% else %}
        <a href="?page={{ num }}">{{ num }}</a>
        {% endif %} {% endif %} {% endfor %} {# NEXT BUTTON #} {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">Next &raquo;</a>
        {% endif %}
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
